<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Data System - UI</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <nav>
        <!-- The ID-based approach allows JS to show/hide these elements easily -->
    <button id="navLogin">Login</button>
    <button id="navRegister">Register</button>
    <button id="navUpload">Upload</button>
    <button id="navDashboard">Dashboard</button>
    <button id="navAggregator">Aggregator</button>
    <button id="navLogout">Logout</button>
  </nav>

  <h1>Welcome to the Data System</h1>

  <!-- LOGIN SECTION -->
  <section id="loginSection" style="display:none;">
    <h2>Login</h2>
    <form id="loginForm">
      <div>
        <label for="loginUsername">Username:</label>
        <input type="text" id="loginUsername" required>
      </div>
      <div>
        <label for="loginPassword">Password:</label>
        <input type="password" id="loginPassword" required>
      </div>
      <button type="submit">Login</button>
    </form>
    <div id="loginMessage"></div>
  </section>

  <!-- REGISTER SECTION -->
  <section id="registerSection" style="display:none;">
    <h2>Register</h2>
    <form id="registerForm">
      <div>
        <label for="registerUsername">Username:</label>
        <input type="text" id="registerUsername" required>
      </div>
      <div>
        <label for="registerPassword">Password:</label>
        <input type="password" id="registerPassword" required>
      </div>
      <button type="submit">Register</button>
    </form>
    <div id="registerMessage"></div>
  </section>

  <!-- UPLOAD SECTION -->
  <section id="uploadSection" style="display:none;">
    <h2>Upload Data</h2>
    <p id="uploadInfo"></p>

    <!-- New: Record Type selection -->
    <label for="recordType">Record Type:</label>
    <select id="recordType" name="recordType">
      <option value="sales">Sales</option>
      <option value="inventory">Inventory</option>
      <!-- You can make this dynamic or keep it simple for now. -->
    </select>

    <form id="uploadForm" enctype="multipart/form-data">
      <input type="file" name="datafile" accept=".csv, application/json" />
      <button type="submit">Upload</button>
    </form>
    <div id="uploadResponse"></div>
  </section>

  <!-- DASHBOARD SECTION --> <!-- DASHBOARD CHANGES -->
  <section id="dashboardSection" style="display:none;">
    <h2>My Dashboard</h2>
    <p>You can optionally enter a date range (YYYY-MM-DD) to filter your data:</p>
    <label for="fromDate">From:</label>
    <input type="text" id="fromDate" placeholder="YYYY-MM-DD" />
    <label for="toDate">To:</label>
    <input type="text" id="toDate" placeholder="YYYY-MM-DD" />
    <button id="getDataButton">Get My Data</button>

    <div id="dashboardResults">
      <!-- Weâ€™ll dynamically place fetched results here. -->
    </div>
  </section>

  <!-- SEPARATE AGGREGATOR SECTION -->
  <section id="aggregatorSection" style="display:none;">
    <h2>Aggregator</h2>
    <p>Select a record type, choose a field, then pick an operation (SUM or AVERAGE).</p>

    <label for="aggRecordType">Record Type:</label>
    <select id="aggRecordType">
      <option value="" disabled selected>Select a record type</option>
    </select>

    <label for="aggField">Field:</label>
    <select id="aggField"></select>

    <label for="aggOperation">Operation:</label>
    <select id="aggOperation">
      <option value="sum">SUM</option>
      <option value="average">AVERAGE</option>
    </select>

    <button id="calculateButton">Calculate</button>

    <div id="aggResult"></div>
  </section>

  <script src="js/main.js"></script>
</body>
</html>